(()=>{"use strict";const e=(e,t)=>{const a=new URL(e);return Object.keys(t).forEach((e=>{a.searchParams.set(e,t[e])})),a},t={};"undefined"!=typeof lpDataAdmin&&(t.admin={apiAdminNotice:lpDataAdmin.lp_rest_url+"lp/v1/admin/tools/admin-notices",apiAdminOrderStatic:lpDataAdmin.lp_rest_url+"lp/v1/orders/statistic",apiAddons:lpDataAdmin.lp_rest_url+"lp/v1/addon/all",apiAddonAction:lpDataAdmin.lp_rest_url+"lp/v1/addon/action",apiAddonsPurchase:lpDataAdmin.lp_rest_url+"lp/v1/addon/info-addons-purchase",apiSearchCourses:lpDataAdmin.lp_rest_url+"lp/v1/admin/tools/search-course",apiSearchUsers:lpDataAdmin.lp_rest_url+"lp/v1/admin/tools/search-user",apiAssignUserCourse:lpDataAdmin.lp_rest_url+"lp/v1/admin/tools/assign-user-course",apiUnAssignUserCourse:lpDataAdmin.lp_rest_url+"lp/v1/admin/tools/unassign-user-course",apiAJAX:lpDataAdmin.lp_rest_url+"lp/v1/load_content_via_ajax/"}),"undefined"!=typeof lpData&&(t.frontend={apiWidgets:lpData.lp_rest_url+"lp/v1/widgets/api",apiCourses:lpData.lp_rest_url+"lp/v1/courses/archive-course",apiAJAX:lpData.lp_rest_url+"lp/v1/load_content_via_ajax/",apiProfileCoverImage:lpData.lp_rest_url+"lp/v1/profile/cover-image"});const a=t,n=a.admin||a.frontend,o=n?.apiAJAX||"";let s={};"undefined"!=typeof lpDataAdmin?s=lpDataAdmin:"undefined"!=typeof lpData&&(s=lpData);var l;window.lpAJAXG={autoLoadAPIs:()=>{console.log("autoLoadAPIs")},fetchAPI:(t,a,n)=>{const o={headers:{}};0!==parseInt(s.user_id)&&(o.headers["X-WP-Nonce"]=s.nonce),void 0!==a.args.method_request?o.method=a.args.method_request:o.method="POST","POST"===o.method?(o.body=JSON.stringify(a),o.headers["Content-Type"]="application/json"):(a.args=JSON.stringify(a.args),a.callback=JSON.stringify(a.callback),t=e(t,a)),((e,t={},a={})=>{"function"==typeof a.before&&a.before(),fetch(e,{method:"GET",...t}).then((e=>e.json())).then((e=>{"function"==typeof a.success&&a.success(e)})).catch((e=>{"function"==typeof a.error&&a.error(e)})).finally((()=>{"function"==typeof a.completed&&a.completed()}))})(t,o,n)},getElements:()=>{const t=document.querySelectorAll(".lp-load-ajax-element:not(.loaded)");t.length&&t.forEach((t=>{t.classList.add("loaded");let a=o;s.urlParams.hasOwnProperty("lang")&&(a=e(a,{lang:s.urlParams.lang}));const n=t.querySelector(".lp-target"),l={...JSON.parse(n.dataset.send)},r=t.querySelector(".loading-first"),d={success:e=>{const{status:t,message:a,data:o}=e;"success"===t?n.innerHTML=o.content:"error"===t&&(n.innerHTML=a)},error:e=>{console.log(e)},completed:()=>{r&&r.remove()}};window.lpAJAXG.fetchAPI(a,l,d)}))}},window.lpAJAXG.getElements(),l=e=>{e.classList.contains("lp-load-ajax-element")&&window.lpAJAXG.getElements()},new MutationObserver((function(e){e.forEach((function(e){e.addedNodes&&e.addedNodes.forEach((function(e){1===e.nodeType&&l(e)}))}))})).observe(document,{childList:!0,subtree:!0}),((e,t)=>{const a=document.querySelector(e);if(a)return void t();const n=new MutationObserver(((a,n)=>{const o=document.querySelector(e);o&&(n.disconnect(),t())}));n.observe(document.documentElement,{childList:!0,subtree:!0})})(".lp-load-ajax-element",(e=>{window.lpAJAXG.getElements()})),document.addEventListener("readystatechange",(e=>{window.lpAJAXG.getElements()})),document.addEventListener("DOMContentLoaded",(()=>{window.lpAJAXG.getElements()}))})();